#!/bin/sh

case $BLOCK_BUTTON in
	1) notify-send "ðŸš€ updating todo list";; 
	2) setsid -f "$TERMINAL" -f monospace:size=15 -g 120x30+350+220 -n "popup" -e vim ~/Dropbox/todo.txt || notify-send "ðŸš€failed to open ~/Dropbox/todo.txt";;
	3) [ $(ps aux | ag "surf habitica.com" | wc -l) -eq 1 ] && surf habitica.com || notify-send "â›”habitica already running";;
	6) "$TERMINAL" -g 120x30+350+220 -n "popup" -e "$EDITOR" "$0" ;;
esac

today=$(todo.sh listall | grep $(date +%Y-%m-%d) | wc -l)
todo=$(todo.sh list | grep TODO | awk '{printf $4}')
done=$(todo.sh listall | grep DONE | awk '{printf $4}')
echo ðŸš€$todo/$today:$done
